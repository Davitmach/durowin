'use client';

import { useLanguageStore } from "@/app/store";
import { usePathname, useRouter } from "next/navigation";
import { useEffect, useLayoutEffect, useState } from "react";

export const Menu = ()=> {
    const {push} = useRouter();
    type MenuType ='history' | 'flames' | 'slots' |'mine' |'wallet'
    const {language} = useLanguageStore();
    const [active,setActive] = useState<MenuType | ''>('');
    const handleClick = (menu:MenuType) => {
        setActive(menu);    
    }
const path = usePathname();
useLayoutEffect(()=> {
if(path=='/' || path =='/ru' || path =='/eng') {
    setActive('history')
}
else if(path.includes('wallet')) {
    setActive('wallet')
}
else if(path.includes('flames')) {
    setActive('flames')
}
else if(path.includes('spin')) {
    setActive('slots')
}
else if(path.includes('mine')) {
    setActive('mine')
}




},[path])
    return(
        <div className=" gap-[4px] h-[77px] fixed bottom-0 left-[50%] max-w-[390px] translate-x-[-50%] px-[20px] flex w-full justify-between items-center rounded-t-[32px] bg-[#1F0A45] py-[12px]">
            <div onClick={()=> {
                handleClick('history')
if(language=='eng') {
    push('/eng')
}
else {
    push('/ru') 
}
                
            }}  className={`duration-[150ms] transition-[10ms] flex items-center justify-center h-[56px] w-[66px] border-[2px] border-transparent cursor-pointer rounded-[100px] py-[12px] px-[17px]  ${active == 'history' &&'menu_active'}`}><svg width="27" height="26" viewBox="0 0 27 26" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.7334 25.6666C5.1421 25.6666 3.61598 25.0345 2.49076 23.9093C1.36554 22.7841 0.733398 21.2579 0.733398 19.6666C0.733398 18.0753 1.36554 16.5492 2.49076 15.424C3.61598 14.2988 5.1421 13.6666 6.7334 13.6666C8.3247 13.6666 9.85082 14.2988 10.976 15.424C12.1013 16.5492 12.7334 18.0753 12.7334 19.6666C12.7334 21.2579 12.1013 22.7841 10.976 23.9093C9.85082 25.0345 8.3247 25.6666 6.7334 25.6666ZM20.0667 12.3333C19.2788 12.3333 18.4986 12.1781 17.7706 11.8766C17.0427 11.5751 16.3812 11.1331 15.8241 10.576C15.2669 10.0188 14.825 9.35737 14.5235 8.62941C14.2219 7.90146 14.0667 7.12124 14.0667 6.33331C14.0667 5.54538 14.2219 4.76517 14.5235 4.03721C14.825 3.30926 15.2669 2.64782 15.8241 2.09067C16.3812 1.53352 17.0427 1.09156 17.7706 0.790036C18.4986 0.488508 19.2788 0.333313 20.0667 0.333313C21.658 0.333313 23.1842 0.965454 24.3094 2.09067C25.4346 3.21589 26.0667 4.74201 26.0667 6.33331C26.0667 7.92461 25.4346 9.45074 24.3094 10.576C23.1842 11.7012 21.658 12.3333 20.0667 12.3333ZM1.40007 7.66665C1.40007 5.89854 2.10244 4.20284 3.35269 2.9526C4.60293 1.70236 6.29862 0.99998 8.06673 0.99998H12.0667V3.66665H8.06673C7.00587 3.66665 5.98845 4.08807 5.23831 4.83822C4.48816 5.58837 4.06673 6.60578 4.06673 7.66665V11.6666H1.40007V7.66665ZM22.7334 14.3333V18.3333C22.7334 19.3942 22.312 20.4116 21.5618 21.1617C20.8117 21.9119 19.7943 22.3333 18.7334 22.3333H14.7334V25H18.7334C20.5015 25 22.1972 24.2976 23.4474 23.0474C24.6977 21.7971 25.4001 20.1014 25.4001 18.3333V14.3333H22.7334Z" fill="white"/>
</svg>

</div>
            <div onClick={()=> {
                handleClick('flames')
                if(language=='eng') {
                    push('/eng/flames')
                }
                else {
                    push('/ru/flames') 
                }
             
            }} className={`duration-[150ms] transition-[10ms] flex items-center justify-center h-[56px] w-[66px] border-[2px] border-transparent cursor-pointer rounded-[100px] py-[12px] px-[17px] ${active == 'flames' &&'menu_active'}`}><svg width="21" height="28" viewBox="0 0 21 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.4995 28C16.299 28 20.9995 24.5 20.9995 18.375C20.9995 15.75 20.1245 11.375 16.6245 7.875C17.062 10.5 14.437 11.375 14.437 11.375C15.7495 7 12.2495 0.875 6.99951 0C7.62426 3.5 7.87451 7 3.49951 10.5C1.31201 12.25 -0.000488281 15.2758 -0.000488281 18.375C-0.000488281 24.5 4.70001 28 10.4995 28ZM10.4995 26.25C7.59976 26.25 5.24951 24.5 5.24951 21.4375C5.24951 20.125 5.68701 17.9375 7.43701 16.1875C7.21826 17.5 8.74951 18.375 8.74951 18.375C8.09326 16.1875 9.62451 12.6875 12.2495 12.25C11.9363 14 11.812 15.75 13.9995 17.5C15.0933 18.375 15.7495 19.887 15.7495 21.4375C15.7495 24.5 13.3993 26.25 10.4995 26.25Z" fill="white"/>
</svg>
</div>
            <div onClick={()=> {
                handleClick('slots')
                push('/spin')
                if(language == 'eng') {
                    push('/eng/spin') 
                }
                else {
                    push('/ru/spin') 
                }
            }} className={`duration-[150ms] transition-[10ms] flex items-center justify-center h-[56px] w-[66px] border-[2px] border-transparent cursor-pointer rounded-[100px] py-[12px] px-[17px] ${active == 'slots' &&'menu_active'}`}><svg width="30" height="28" viewBox="0 0 30 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.66683 14L8.3335 8.66669V7.33335H4.3335V8.66669H7.00016L4.3335 14M11.0002 14L13.6668 8.66669V7.33335H9.66683V8.66669H12.3335L9.66683 14M16.3335 14L19.0002 8.66669V7.33335H15.0002V8.66669H17.6668L15.0002 14M27.0002 0.666687C25.5335 0.666687 24.3335 1.86669 24.3335 3.33335C24.3335 4.26669 24.8668 5.20002 25.6668 5.60002V20.6667H21.6668V18C22.4668 18 23.0002 17.4667 23.0002 16.6667V4.66669C23.0002 3.86669 22.4668 3.33335 21.6668 3.33335H16.6002C15.5335 1.73335 13.6668 0.666687 11.6668 0.666687C9.66683 0.666687 7.80016 1.73335 6.7335 3.33335H1.66683C0.866829 3.33335 0.333496 3.86669 0.333496 4.66669V16.6667C0.333496 17.4667 0.866829 18 1.66683 18V27.3334H21.6668V23.3334H25.6668C27.1335 23.3334 28.3335 22.1334 28.3335 20.6667V5.60002C29.1335 5.20002 29.6668 4.26669 29.6668 3.33335C29.6668 1.86669 28.4668 0.666687 27.0002 0.666687ZM16.3335 23.3334H7.00016V20.6667H16.3335V23.3334ZM20.3335 15.3334H3.00016V6.00002H20.3335V15.3334Z" fill="white"/>
</svg>
</div>
            <div onClick={()=> {
                handleClick('mine')
                
                if(language == 'eng') {
                    push('/eng/mine') 
                }
                else {
                    push('/ru/mine') 
                }
            }} className={`duration-[150ms] transition-[10ms] flex items-center justify-center h-[56px] w-[66px] border-[2px] border-transparent cursor-pointer rounded-[100px] py-[12px] px-[17px] ${active == 'mine' &&'menu_active'}`}><svg width="26" height="25" viewBox="0 0 26 25" fill="none" xmlns="http://www.w3.org/2000/svg">
<mask id="path-1-inside-1_137_2012" fill="white">
<path d="M16.1746 13.6253L5.6253 24.1733C5.09487 24.7038 4.37545 25.0017 3.6253 25.0017C2.87516 25.0017 2.15574 24.7038 1.6253 24.1733C1.09487 23.6429 0.796875 22.9235 0.796875 22.1733C0.796875 21.4232 1.09487 20.7038 1.6253 20.1733L12.1746 9.62399M17.7146 2.75199C15.7016 1.49797 13.4442 0.68801 11.0931 0.376222C8.74209 0.064434 6.35157 0.258 4.0813 0.943987C3.87919 1.07265 3.71548 1.2534 3.6074 1.46723C3.49931 1.68105 3.45083 1.92005 3.46707 2.1591C3.48331 2.39814 3.56365 2.62839 3.69966 2.82563C3.83567 3.02288 4.02232 3.17983 4.23997 3.27999C7.27651 4.31709 10.1223 5.84539 12.664 7.80399"/>
</mask>
<path d="M19.7099 17.1611C21.6627 15.2086 21.6629 12.0428 19.7104 10.09C17.7579 8.13727 14.5921 8.13707 12.6393 10.0896L19.7099 17.1611ZM5.6253 24.1733L2.08999 20.6376L2.08977 20.6378L5.6253 24.1733ZM3.6253 25.0017V30.0017V25.0017ZM0.796875 22.1733H-4.20312H0.796875ZM1.6253 20.1733L-1.91023 16.6378L-1.91023 16.6378L1.6253 20.1733ZM15.7102 13.1595C17.6628 11.2069 17.6628 8.04108 15.7102 6.08845C13.7575 4.13583 10.5917 4.13583 8.6391 6.08845L15.7102 13.1595ZM15.0709 6.99586C17.4147 8.45598 20.4984 7.73959 21.9585 5.39576C23.4186 3.05193 22.7022 -0.0317726 20.3584 -1.49189L15.0709 6.99586ZM4.0813 0.943987L2.63507 -3.84229C2.19809 -3.71025 1.78125 -3.51899 1.39617 -3.27384L4.0813 0.943987ZM4.23997 3.27999L2.14984 7.82216C2.30453 7.89335 2.46277 7.95658 2.62392 8.01162L4.23997 3.27999ZM9.61201 11.7645C11.7993 13.45 14.9389 13.0433 16.6245 10.8559C18.31 8.66862 17.9032 5.52903 15.7159 3.84349L9.61201 11.7645ZM12.6393 10.0896L2.08999 20.6376L9.16061 27.7091L19.7099 17.1611L12.6393 10.0896ZM2.08977 20.6378C2.49702 20.2305 3.04936 20.0017 3.6253 20.0017V30.0017C5.70153 30.0017 7.69272 29.177 9.16084 27.7089L2.08977 20.6378ZM3.6253 20.0017C4.20124 20.0017 4.75359 20.2305 5.16084 20.6378L-1.91023 27.7089C-0.442119 29.177 1.54907 30.0017 3.6253 30.0017V20.0017ZM5.16084 20.6378C5.56809 21.045 5.79688 21.5974 5.79688 22.1733H-4.20312C-4.20312 24.2495 -3.37835 26.2407 -1.91023 27.7089L5.16084 20.6378ZM5.79688 22.1733C5.79688 22.7493 5.56809 23.3016 5.16084 23.7089L-1.91023 16.6378C-3.37835 18.1059 -4.20312 20.0971 -4.20312 22.1733H5.79688ZM5.16084 23.7089L15.7102 13.1595L8.6391 6.08845L-1.91023 16.6378L5.16084 23.7089ZM20.3584 -1.49189C17.7415 -3.12211 14.8068 -4.17506 11.7505 -4.58038L10.4358 5.33283C12.0816 5.55108 13.6618 6.11805 15.0709 6.99586L20.3584 -1.49189ZM11.7505 -4.58038C8.6941 -4.98571 5.58642 -4.73407 2.63507 -3.84229L5.52753 5.73026C7.11672 5.25007 8.79008 5.11457 10.4358 5.33283L11.7505 -4.58038ZM1.39617 -3.27384C0.436136 -2.66267 -0.341471 -1.8041 -0.854887 -0.788437L8.06968 3.7229C7.77244 4.31091 7.32225 4.80798 6.76644 5.16181L1.39617 -3.27384ZM-0.854887 -0.788437C-1.3683 0.227234 -1.59856 1.36248 -1.52144 2.49793L8.45558 1.82026C8.50023 2.47763 8.36692 3.13488 8.06968 3.7229L-0.854887 -0.788437ZM-1.52144 2.49793C-1.44431 3.63336 -1.06267 4.72705 -0.416624 5.66398L7.81595 -0.012711C8.18998 0.529721 8.41093 1.16291 8.45558 1.82026L-1.52144 2.49793ZM-0.416624 5.66398C0.229419 6.6009 1.11598 7.34642 2.14984 7.82216L6.3301 -1.26219C6.92865 -0.986759 7.44192 -0.555139 7.81595 -0.012711L-0.416624 5.66398ZM2.62392 8.01162C5.14287 8.87195 7.50359 10.1397 9.61201 11.7645L15.7159 3.84349C12.741 1.55103 9.41014 -0.237771 5.85601 -1.45165L2.62392 8.01162Z" fill="white" mask="url(#path-1-inside-1_137_2012)"/>
<path d="M21.9712 6.33246L16.7993 11.5043L14.2944 8.99945L19.4663 3.82758L21.9712 6.33246Z" stroke="white" strokeWidth="4" strokeLinecap="round" strokeLinejoin="round"/>
<mask id="path-4-inside-2_137_2012" fill="white">
<path d="M23.0477 8.08533C24.3018 10.0983 25.1117 12.3558 25.4235 14.7068C25.7353 17.0579 25.5417 19.4484 24.8557 21.7187C24.727 21.9204 24.5463 22.0838 24.3326 22.1917C24.1189 22.2996 23.8802 22.3479 23.6414 22.3317C23.4025 22.3154 23.1725 22.2352 22.9754 22.0995C22.7783 21.9637 22.6213 21.7773 22.5211 21.56C21.4841 18.523 19.9558 15.6767 17.9971 13.1347"/>
</mask>
<path d="M27.2916 5.44156C25.8315 3.09773 22.7478 2.38134 20.404 3.84145C18.0601 5.30157 17.3437 8.38527 18.8039 10.7291L27.2916 5.44156ZM24.8557 21.7187L29.0707 24.4083C29.3172 24.022 29.5094 23.6036 29.642 23.1649L24.8557 21.7187ZM22.5211 21.56L17.7893 23.1756C17.8449 23.3385 17.9089 23.4984 17.981 23.6547L22.5211 21.56ZM21.9577 10.0829C20.2723 7.89548 17.1327 7.48857 14.9453 9.17402C12.7579 10.8595 12.351 13.999 14.0364 16.1864L21.9577 10.0829ZM18.8039 10.7291C19.6817 12.1382 20.2486 13.7184 20.4669 15.3641L30.3801 14.0495C29.9748 10.9931 28.9218 8.05844 27.2916 5.44156L18.8039 10.7291ZM20.4669 15.3641C20.6851 17.0099 20.5497 18.6832 20.0695 20.2724L29.642 23.1649C30.5338 20.2135 30.7854 17.1059 30.3801 14.0495L20.4669 15.3641ZM20.6408 19.029C20.9949 18.4741 21.4918 18.0248 22.0794 17.7281L26.5858 26.6552C27.6007 26.1429 28.4591 25.3668 29.0707 24.4083L20.6408 19.029ZM22.0794 17.7281C22.667 17.4315 23.3237 17.2986 23.9804 17.3432L23.3023 27.3202C24.4367 27.3973 25.5708 27.1676 26.5858 26.6552L22.0794 17.7281ZM23.9804 17.3432C24.6371 17.3878 25.2697 17.6084 25.8118 17.9818L20.139 26.2171C21.0753 26.862 22.168 27.2431 23.3023 27.3202L23.9804 17.3432ZM25.8118 17.9818C26.3538 18.3552 26.7854 18.8676 27.0611 19.4653L17.981 23.6547C18.4573 24.687 19.2027 25.5721 20.139 26.2171L25.8118 17.9818ZM27.2528 19.9444C26.0391 16.3897 24.2503 13.0583 21.9577 10.0829L14.0364 16.1864C15.6613 18.2952 16.9291 20.6563 17.7893 23.1756L27.2528 19.9444Z" fill="white" mask="url(#path-4-inside-2_137_2012)"/>
</svg>
</div>
            <div  onClick={()=> {
                handleClick('wallet')
             
                if(language == 'eng') {
                    push('/eng/wallet') 
                }
                else {
                    push('/ru/wallet') 
                }
            }} className={`duration-[150ms] transition-[10ms] flex items-center justify-center h-[56px] w-[66px] border-[2px] border-transparent cursor-pointer rounded-[100px] py-[12px] px-[17px] ${active == 'wallet' &&'menu_active'}`}><svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fillRule="evenodd" clipRule="evenodd" d="M12.6001 14.6667C12.6001 13.6058 13.0215 12.5884 13.7717 11.8383C14.5218 11.0881 15.5392 10.6667 16.6001 10.6667H21.9334C22.6407 10.6667 23.319 10.9476 23.819 11.4477C24.3191 11.9478 24.6001 12.6261 24.6001 13.3334V16C24.6001 16.7073 24.3191 17.3855 23.819 17.8856C23.319 18.3857 22.6407 18.6667 21.9334 18.6667H16.6001C15.5392 18.6667 14.5218 18.2453 13.7717 17.4951C13.0215 16.745 12.6001 15.7276 12.6001 14.6667ZM16.6001 13.3334C16.2465 13.3334 15.9073 13.4738 15.6573 13.7239C15.4072 13.9739 15.2668 14.3131 15.2668 14.6667C15.2668 15.0203 15.4072 15.3594 15.6573 15.6095C15.9073 15.8595 16.2465 16 16.6001 16H21.9334V13.3334H16.6001Z" fill="white"/>
<path fillRule="evenodd" clipRule="evenodd" d="M12.9908 0.390687C13.2408 0.140726 13.5799 0.000305176 13.9334 0.000305176C14.287 0.000305176 14.6261 0.140726 14.8761 0.390687L18.4854 4.00002H14.7148L12.9908 2.27602C12.7408 2.02598 12.6004 1.68691 12.6004 1.33335C12.6004 0.979801 12.7408 0.640724 12.9908 0.390687ZM13.1521 4.00002L9.54276 0.390687C9.29273 0.140726 8.95365 0.000305176 8.6001 0.000305176C8.24655 0.000305176 7.90747 0.140726 7.65743 0.390687L4.0481 4.00002H13.1521ZM2.71476 5.33335L2.6401 5.40669C2.05838 5.54733 1.54087 5.87957 1.17085 6.34996C0.800827 6.82035 0.599796 7.40154 0.600098 8.00002V21.3334C0.600098 22.0406 0.881049 22.7189 1.38115 23.219C1.88124 23.7191 2.55952 24 3.26676 24H19.2668C19.974 24 20.6523 23.7191 21.1524 23.219C21.6525 22.7189 21.9334 22.0406 21.9334 21.3334H16.6001C14.832 21.3334 13.1363 20.631 11.8861 19.3807C10.6358 18.1305 9.93343 16.4348 9.93343 14.6667C9.93343 12.8986 10.6358 11.2029 11.8861 9.95264C13.1363 8.7024 14.832 8.00002 16.6001 8.00002H21.9334C21.9337 7.40154 21.7327 6.82035 21.3627 6.34996C20.9927 5.87957 20.4752 5.54733 19.8934 5.40669L19.8188 5.33335H2.71476Z" fill="white"/>
</svg>
</div>
        </div>
    )
}